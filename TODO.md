# 项目任务清单

## ✅ 已完成

- [x] 项目结构搭建
- [x] 核心组件开发（BagSprite、HitText）
- [x] 状态管理（Pinia Store）
- [x] 音效管理器（AudioManager）
- [x] 主页面开发
- [x] 武器切换系统
- [x] 换脸功能
- [x] 设置面板
- [x] 排行榜页面开发
- [x] 云函数创建（getRanking、updateRanking）
- [x] 文档编写（README、DEV_GUIDE、CLOUD_SETUP）
- [x] 功能增强提案文档

## 🚧 待完成（MVP 版本）

### 高优先级 P0
- [ ] **准备音频文件** - 在 `static/audio/` 放置 3 个音效文件
  - punch.mp3（拳头音效）
  - slap.mp3（拖鞋音效）
  - pan.mp3（平底锅音效）
- [ ] **安装依赖** - 运行 `npm install`
- [ ] **配置小程序 AppID** - 在 `manifest.json` 中填写
- [ ] **开通云开发环境** - 参考 `CLOUD_SETUP.md`
- [ ] **部署云函数** - 上传 getRanking 和 updateRanking
- [ ] **创建数据库集合** - 创建 `rankings` 集合
- [ ] **真机测试** - 测试音效、震动、动画流畅度

### 中优先级 P1
- [ ] 排行榜完善 - 添加下拉刷新功能
- [ ] 图片资源准备 - 受气包表情图、武器图标
- [ ] 性能优化 - 测试连续点击 100 次的流畅度
- [ ] 获取用户信息 - 调用 `wx.getUserProfile` 获取昵称和头像

### 低优先级 P2
- [ ] 数据持久化 - 使用 localStorage 保存最高分
- [ ] 分享功能 - 微信分享卡片（带成绩炫耀）
- [ ] 音效开关记忆 - 保存用户设置到本地
- [ ] 添加加载动画 - 首屏加载优化

## 🎯 下一阶段功能（参考功能增强提案）

详见 `openspec/changes/2025-12-05-game-enhancement-features.md`

- [ ] 新武器类型系统（15+ 武器）
- [ ] 成就系统（30+ 成就）
- [ ] 好友对战功能
- [ ] 每日任务系统
- [ ] 音效自定义
- [ ] 皮肤商城

## 📋 测试清单

### 功能测试
- [ ] 点击受气包触发动画
- [ ] 音效正常播放（音效池轮播）
- [ ] 震动反馈生效
- [ ] 伤害飘字显示正确
- [ ] 武器切换成功
- [ ] 换脸功能可用
- [ ] 设置面板开关生效
- [ ] 连击计数正确
- [ ] 3 秒无操作重置连击
- [ ] 排行榜跳转正常
- [ ] 排行榜数据加载
- [ ] 分数上传成功

### UI 测试
- [ ] 不同屏幕尺寸适配
- [ ] 刘海屏安全区适配
- [ ] 横竖屏切换正常
- [ ] 字体大小合适
- [ ] 颜色对比度足够

### 性能测试
- [ ] 启动时间 < 2 秒
- [ ] 点击响应 < 100ms
- [ ] 连续点击不卡顿
- [ ] 内存占用 < 100MB
- [ ] 动画帧率 > 50 FPS

### 云开发测试
- [ ] 云函数正常调用
- [ ] 排行榜数据读取
- [ ] 分数上传成功
- [ ] 数据库权限正确
- [ ] 每日榜单重置

## 🐛 已知问题

暂无

## 💡 优化建议

1. 考虑添加新手引导动画
2. 增加更多挑衅文案（气泡）
3. 优化受气包表情过渡动画
4. 添加背景音乐开关
5. 考虑添加成就解锁动画
6. 排行榜添加我的历史最高分展示
7. 添加分享到朋友圈功能

## 📝 开发笔记

### 2025-12-05 更新
- ✅ 完成排行榜页面开发
- ✅ 创建云函数（getRanking、updateRanking）
- ✅ 更新主页面排行榜跳转功能
- ✅ 添加云开发配置文档

### 下次开发重点
1. 准备音频资源文件
2. 配置微信小程序 AppID
3. 开通并配置云开发环境
4. 真机测试完整流程

---

最后更新：2025-12-05
