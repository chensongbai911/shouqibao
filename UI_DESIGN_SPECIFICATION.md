# 🎨 《受气包》完整UI设计规范 V2.3.0

**创建时间:** 2025-12-12
**版本:** V2.3.0
**状态:** 正在实施

---

## 📱 整体风格 (Overall Style)

### 设计理念
```
现代科幻 + 沉浸式游戏 + 情感化交互
Modern Sci-Fi + Immersive Gaming + Emotional Interaction
```

### 核心特征
- ✅ **深色沉浸式设计** - 类宇宙背景，营造沉浸感
- ✅ **多巴胺配色** - 金黄(#FFD700)和亮蓝(#00D4FF)的高对比
- ✅ **毛玻璃效果** - 现代感和科技感的体现
- ✅ **微交互动画** - 每个操作都有反馈
- ✅ **情感化设计** - 角色表情和音效反馈

---

## 🎯 布局和结构 (Layout & Structure)

### 页面整体布局（从上到下）

```
┌─────────────────────────────────┐
│ 📍 顶部HUD区 (Top HUD Area)     │
│  ├─ 左上：夜间模式切换 🌙         │
│  ├─ 中央：分数显示 (金黄大字)   │
│  ├─ 右上：金币计数 💰            │
│  └─ 旁边：连击倍增指示器 ×2.5   │
├─────────────────────────────────┤
│                                 │
│ 🎮 游戏主体区 (Main Game Area) │
│  ├─ 背景：宇宙背景+粒子特效    │
│  ├─ 中心：3D受气包角色          │
│  ├─ 交互：点击/长按触发         │
│  └─ 反馈：伤害飘字+震屏动画    │
│                                 │
├─────────────────────────────────┤
│ 🎛️ 底部Dock菜单 (Bottom Dock)  │
│  ├─ 武器 👊                     │
│  ├─ 成就 🏆                     │
│  ├─ 商店 🛍️                     │
│  ├─ 设置 ⚙️                     │
│  └─ 重置 🔄                     │
└─────────────────────────────────┘
```

### 层级关系

```
Z-Index 分布：
1000  底部Dock菜单 (always-on-top)
 500  弹窗面板 (武器库、成就、设置)
 400  成就解锁通知
 300  伤害飘字
 200  粒子特效
 100  游戏主体
  10  背景
   0  底层
```

---

## 🎨 颜色和字体 (Color & Font)

### 色彩系统

#### 主色调
```css
/* 多巴胺配色系 */
--color-primary: #FFD700;        /* 金黄 - 核心强调 */
--color-accent: #00D4FF;         /* 亮蓝 - 副强调 */
--color-danger: #FF6B6B;         /* 亮红 - 警示 */
--color-success: #51CF66;        /* 绿色 - 成功 */
```

#### 背景色
```css
--color-bg-primary: #1a1f2e;     /* 深蓝黑 - 主背景 */
--color-bg-secondary: #16213e;   /* 深蓝 - 次背景 */
--color-bg-glass: rgba(40, 40, 40, 0.85);  /* 毛玻璃 */
```

#### 文字色
```css
--color-text: #FFFFFF;           /* 纯白 - 主文字 */
--color-text-secondary: #B8B8B8; /* 浅灰 - 副文字 */
--color-text-light: #888888;     /* 深灰 - 辅助文字 */
```

### 字体系统

```css
/* 系统字体堆栈 */
--font-title: 'PingFang SC', 'Source Han Sans SC', -apple-system, BlinkMacSystemFont, sans-serif;
--font-number: 'DIN Alternate', 'Helvetica Neue', Arial, sans-serif;
--font-comic: 'Comic Sans MS', cursive, sans-serif;

/* 字号体系 */
--font-size-huge: 100rpx;    /* 分数大显示 */
--font-size-title: 36rpx;    /* 标题 */
--font-size-body: 28rpx;     /* 正文 */
--font-size-number: 48rpx;   /* 数值 */
--font-size-small: 24rpx;    /* 小文字 */
```

### 颜色应用示例

| 元素 | 颜色 | 用途 |
|------|------|------|
| 分数数字 | #FFD700 | 视觉焦点 |
| 伤害飘字 | #FFD700 | 高对比 |
| 按钮激活 | #00D4FF | 交互反馈 |
| 背景渐变 | 深蓝→黑 | 沉浸感 |
| 文字主色 | #FFFFFF | 高清晰度 |
| 菜单背景 | rgba(40,40,40,0.85) | 毛玻璃感 |

---

## 🧩 组件和元素 (Components & Elements)

### 1. 顶部HUD区

#### 分数显示组件
```
┌─────────────────────┐
│  268                │
│  今日 +268          │
│  ×2.5 (连击倍增)    │
└─────────────────────┘

样式特征:
• 字号: 100rpx (分数) / 28rpx (副文字)
• 颜色: #FFD700 (金黄)
• 阴影: 0 4rpx 20rpx rgba(255, 215, 0, 0.3)
• 动画: 分数增加时放大+缩小 (300ms)
• 层位: 固定在屏幕顶部中央
```

#### 模式切换按钮
```
┌─────────┐
│   🌙    │
└─────────┘

样式特征:
• 尺寸: 60×60rpx
• 背景: rgba(100, 100, 100, 0.3) (半透明灰)
• 边框: 1rpx solid rgba(255, 255, 255, 0.1)
• 圆角: 16rpx
• 位置: 左上角 (statusBarHeight + 12rpx)
• 动画: 点击时旋转180°
```

#### 金币计数器
```
┌──────────────┐
│  💰 10       │
└──────────────┘

样式特征:
• 尺寸: 80×40rpx
• 背景: rgba(100, 100, 100, 0.3)
• 边框: 1rpx solid rgba(255, 255, 255, 0.1)
• 圆角: 20rpx
• 位置: 右上角
• 字体: 金色 #FFD700
```

### 2. 游戏主体区

#### 3D受气包容器
```
┌──────────────────┐
│                  │
│    [😤 3D]       │  ← Canvas WebGL 渲染
│                  │
│    脚底阴影       │
└──────────────────┘

特征:
• 宽度: 100% (容器宽)
• 高度: 自适应 (保持宽高比)
• 渲染引擎: Three.js (WebGL)
• 响应: tap / touch 事件
• 阴影: 脚底投影阴影
• 背景: 透明 (叠加在星空背景上)
```

#### 背景特效层
```
宇宙背景组件:
• 星点粒子: 10+ 浮动小圆点
• 配色: 蓝色 (#00D4FF) / 紫色 / 白色
• 动画: 缓慢浮动/闪烁
• 层级: 最底层
• 性能: CSS动画 (不影响帧率)

渐变背景:
• 从上: 深蓝 (#1a1f2e)
• 到下: 深黑 (#0a0d14)
• 角度: 180°
```

#### 伤害飘字组件
```
┌──────────┐
│  +268    │  ← 伤害数字飘出
│ CRIT!    │  ← 暴击标记
└──────────┘

样式特征:
• 字号: 48rpx (数字) / 32rpx (标记)
• 颜色: #FFD700 (正常) / #FF6B6B (暴击)
• 动画:
  - 向上飘 (300ms)
  - 逐渐透明 (300ms)
  - 缩放放大 1x → 1.2x
• 叠加: 多个飘字同时出现
• 销毁: 动画结束后清除
```

### 3. 底部Dock菜单

#### 菜单栏容器
```
┌─────────────────────────────┐
│ [👊] [🏆] [🛍️] [⚙️] [🔄]  │
│ 武器  成就  商店  设置  重置   │
└─────────────────────────────┘

样式特征:
• 宽度: 自适应 (内容决定)
• 高度: 自适应
• 背景: rgba(40, 40, 40, 0.85) (深色毛玻璃)
• 边框: 1rpx solid rgba(255, 255, 255, 0.15)
• 圆角: 50rpx (完全圆形)
• 阴影: 0 8rpx 32rpx rgba(0, 0, 0, 0.3)
• 位置: 底部中央
• 间距: 12rpx (按钮间距)
• 内距: 16rpx 20rpx
```

#### 菜单按钮
```
单个按钮结构:
┌──────────┐
│    👊    │  ← 图标 (30rpx)
│   武器    │  ← 标签 (16rpx)
└──────────┘

尺寸:
• 图标框: 60×60rpx
• 圆角: 16rpx
• 标签字号: 16rpx
• 总高度: 78rpx

状态样式:
• 默认: rgba(100, 100, 100, 0.3) + #CCCCCC文字
• 悬停: rgba(72, 219, 251, 0.25) (亮蓝半透明)
• 按下: scale(0.88) + translateY(-6rpx)
• 活动: linear-gradient(#48DBFB → #A2E3FC) + 发光
```

#### 菜单项详情

| 位置 | 图标 | 中文 | 功能 | 颜色 |
|------|------|------|------|------|
| 1 | 👊 | 武器 | 打开武器库面板 | 橙色系 |
| 2 | 🏆 | 成就 | 打开成就面板 | 金色系 |
| 3 | 🛍️ | 商店 | 打开商店（待开发） | 蓝色系 |
| 4 | ⚙️ | 设置 | 打开设置菜单 | 灰色系 |
| 5 | 🔄 | 重置 | 重置分数（需确认） | 青色系 |

---

## ⚡ 交互和动态效果 (Interaction & Animation)

### 1. 打击反馈

#### 点击受气包
```
时间轴 (Timeline):
0ms    → 用户点击
50ms   → 震屏动画开始 (shake)
100ms  → 伤害飘字出现
150ms  → 分数更新 + 数字放大
300ms  → 伤害飘字消失
400ms  → 震屏结束
```

#### 具体动画
```css
/* 震屏动画 */
@keyframes shake {
  0%, 100% { transform: translateX(0) }
  25% { transform: translateX(-4rpx) }
  50% { transform: translateX(4rpx) }
  75% { transform: translateX(-4rpx) }
}

/* 分数放大 */
@keyframes scorePopup {
  0% { transform: scale(1); opacity: 1 }
  100% { transform: scale(1.15); opacity: 1 }
}
duration: 150ms; timing-function: cubic-bezier(0.34, 1.56, 0.64, 1)

/* 伤害飘字 */
@keyframes damageFloat {
  0% {
    transform: translateY(0) scale(0.8);
    opacity: 1;
  }
  100% {
    transform: translateY(-120rpx) scale(1.2);
    opacity: 0;
  }
}
duration: 300ms; timing-function: ease-out
```

### 2. 菜单交互

#### 按钮按下效果
```
按下时刻:
• 背景亮起 (rgba(72, 219, 251, 0.25))
• 按钮缩小 (scale 0.88)
• 向上浮起 (translateY -6rpx)
• 出现发光 (box-shadow: 0 4rpx 16rpx rgba(72,219,251,0.4))

时间: 150ms
缓动: cubic-bezier(0.34, 1.56, 0.64, 1)
```

#### 菜单滑入动画
```
初始状态: 底部外 (translateY 100%)
进入动画:
• 滑入时间: 300ms
• 缓动: ease-out
• 同时: 渐入 (opacity 0 → 1)
• 最终位置: 底部安全区上方
```

### 3. 成就解锁提示

#### 解锁通知样式
```
┌─────────────────────┐
│ 🏆 成就已解锁！      │
│                     │
│ 新手上路            │
│ 打击屏幕100次       │
│ ✨✨✨✨            │
└─────────────────────┘

动画序列:
1. 出现 (缩放 + 淡入) - 200ms
2. 振动 (bounce) - 300ms
3. 停留 - 2000ms
4. 消失 (淡出) - 300ms

颜色: 金黄背景 + 白色文字 + 闪烁星星
声音: 成就解锁音效 + 庆祝声
```

### 4. 页面转换动画

#### 打开面板
```
动画类型: 从下往上滑出 + 淡入
时间: 300ms
缓动: ease-out
背景: 半透明遮罩渐显

代码示例:
transform: translateY(100%) → translateY(0)
opacity: 0 → 1
```

#### 关闭面板
```
动画类型: 向下滑出 + 淡出
时间: 200ms
缓动: ease-in
```

### 5. 长按交互

#### 长按效果
```
触发条件: 按住屏幕 500ms+
反馈:
• 背景闪烁
• 受气包抖动
• 连击倍增提示

说明: 鼓励用户连续打击
```

---

## 📊 尺寸系统 (Sizing System)

### 间距（Spacing）
```css
--spacing-xs: 8rpx;      /* 极小 */
--spacing-sm: 16rpx;     /* 小 */
--spacing-md: 24rpx;     /* 中 */
--spacing-lg: 32rpx;     /* 大 */
--spacing-container: 16rpx;
```

### 圆角（Border Radius）
```css
--radius-small: 8rpx;    /* 小 */
--radius-medium: 16rpx;  /* 中 */
--radius-large: 24rpx;   /* 大 */
--radius-full: 50rpx;    /* 完全圆形 */
```

### 阴影（Shadow）
```css
--shadow-small: 0 2rpx 4rpx rgba(0, 0, 0, 0.1);
--shadow-medium: 0 4rpx 12rpx rgba(0, 0, 0, 0.15);
--shadow-large: 0 8rpx 32rpx rgba(0, 0, 0, 0.3);
```

---

## 🌓 深色/浅色模式

### 深色模式（默认）
```css
背景: 深蓝黑 (#1a1f2e)
文字: 纯白 (#FFFFFF)
强调: 金黄 (#FFD700) + 亮蓝 (#00D4FF)
菜单: 深色毛玻璃 (rgba(40,40,40,0.85))
```

### 浅色模式
```css
背景: 浅灰白 (#F5F5F5)
文字: 深灰 (#333333)
强调: 金黄 (#FFD700) + 蓝色 (#0066FF)
菜单: 浅色毛玻璃 (rgba(255,255,255,0.95))
```

---

## 📐 响应式设计 (Responsive)

### 屏幕适配
```
超小屏 (< 360px):   缩小间距20%，减小字号
小屏 (360-420px):   标准设计
中屏 (420-600px):   增加内边距
大屏 (600-800px):   放大内容
超大屏 (> 800px):   固定最大宽度 + 居中
```

### 安全区域适配
```javascript
/* 刘海屏 */
top: calc(12rpx + env(safe-area-inset-top, 0));

/* 底部导航栏 */
bottom: calc(20rpx + env(safe-area-inset-bottom, 16rpx));
```

---

## ✅ 实现检查清单

- [x] 顶部HUD区
  - [x] 分数显示
  - [x] 模式切换
  - [x] 金币计数
  - [x] 连击指示

- [x] 游戏主体
  - [x] 3D受气包
  - [x] 背景特效
  - [x] 伤害飘字
  - [x] 震屏动画

- [x] 底部菜单
  - [x] 菜单栏样式
  - [x] 5个菜单项
  - [x] 交互动画
  - [x] 深色模式

- [ ] 面板系统（后续）
  - [ ] 武器库面板
  - [ ] 成就面板
  - [ ] 设置菜单
  - [ ] 商店面板

---

## 🎬 动画性能优化

### 使用GPU加速
```css
/* ✅ 高效 - 使用transform和opacity */
transform: translateX(0) → transform: translateX(100px);
opacity: 0 → opacity: 1;

/* ❌ 低效 - 使用position和width */
left: 0 → left: 100px;
width: 100px → width: 200px;
```

### 避免重排重绘
```css
/* 一次批量更新 */
setData({
  score: 1000,
  showEffect: true,
  particles: []
});

/* 而不是逐个更新 */
this.setData({ score: 1000 });
this.setData({ showEffect: true });
this.setData({ particles: [] });
```

---

## 📱 浏览器兼容性

```
✅ 微信小程序 (全版本)
✅ iOS Safari 9.0+
✅ Chrome 76+
✅ Firefox 52+
✅ Android Chrome
✅ 华为、小米、OPPO等国产浏览器
```

---

## 🎯 最终效果

```
整体呈现:
┌─────────────────────────────────┐
│ 🌙              268              💰10 │
│                今日+268              │
│                                     │
│ 🌌 宇宙背景 ✨✨✨✨            │
│                                     │
│     [😤 3D受气包 中央]           │
│     ↓ (点击打击)                    │
│    [+268飘字]                       │
│                                     │
│ [阴影]                              │
│                                     │
│ ┌─────────────────────────────┐  │
│ │ 👊   🏆   🛍️   ⚙️   🔄      │  │
│ │ 武器 成就 商店 设置 重置     │  │
│ └─────────────────────────────┘  │
└─────────────────────────────────┘

• 现代科技感
• 高对比度易读性
• 丰富的交互反馈
• 沉浸式游戏体验
• 流畅的动画效果
```

---

*设计规范版本: 2.3.0*
*最后更新: 2025-12-12*
*状态: 持续优化中*
