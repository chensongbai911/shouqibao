# HBuilderX 快速启动指南

## 📂 导入项目到 HBuilderX

### 方法一：拖拽导入（最简单）
1. 打开 HBuilderX
2. 直接将 `d:\shouqibao` 文件夹拖入 HBuilderX 窗口
3. 完成！

### 方法二：菜单导入
1. 打开 HBuilderX
2. 点击顶部菜单 **文件** → **导入** → **从本地目录导入**
3. 选择 `d:\shouqibao` 文件夹
4. 点击 **选择**

---

## ⚙️ 配置微信小程序 AppID

### 获取 AppID
1. 访问 [微信公众平台](https://mp.weixin.qq.com/)
2. 登录后进入 **开发** → **开发管理** → **开发设置**
3. 复制 **AppID**（格式如：`wx1234567890abcdef`）

### 填写 AppID
在 HBuilderX 中打开 `manifest.json`：
1. 点击左侧项目树中的 `manifest.json`
2. 点击底部 **源码视图** 标签
3. 找到 `"mp-weixin"` 下的 `"appid"` 字段
4. 填入你的 AppID

```json
"mp-weixin": {
  "appid": "wx1234567890abcdef",  // ← 填入你的 AppID
  // ...existing code...
}
```

如果没有 AppID，可以暂时使用测试号：
- 在微信开发者工具中点击 **测试号**，自动生成一个

---

## 🎮 运行项目

### 方式 1: 运行到微信开发者工具（推荐）

#### 前置条件
需要先下载 [微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)

#### 运行步骤
1. 在 HBuilderX 项目树中，**右键点击** `shouqibao` 项目根目录
2. 选择 **运行** → **运行到小程序模拟器** → **微信开发者工具**
3. 首次运行会提示 **配置小程序 IDE 路径**：
   - Windows 默认路径：`C:\Program Files (x86)\Tencent\微信web开发者工具\cli.bat`
   - 点击浏览找到微信开发者工具安装目录
4. 配置完成后，会自动打开微信开发者工具并编译项目

### 方式 2: 运行到浏览器（快速预览）

1. 右键点击项目根目录
2. 选择 **运行** → **运行到内置浏览器**
3. 自动打开浏览器预览 H5 版本

**注意**：H5 版本无法测试音效和震动，仅用于快速预览 UI。

---

## 🎵 准备音频文件

在正式测试前，需要准备 3 个音效文件：

### 下载音效资源

**推荐免费音效网站**：
- [Freesound](https://freesound.org/) - 搜索 "punch", "slap", "pan"
- [Pixabay 音效](https://pixabay.com/zh/sound-effects/) - 免版权
- [爱给网](https://www.aigei.com/sound/) - 中文音效库

### 文件要求
- **格式**：MP3
- **大小**：每个 < 100KB
- **时长**：0.2 - 0.5 秒

### 放置位置
下载后放入 `static/audio/` 目录：
```
static/
  └── audio/
      ├── punch.mp3   (拳头音效)
      ├── slap.mp3    (拖鞋音效)
      └── pan.mp3     (平底锅音效)
```

### 临时方案（跳过音效）
如果暂时没有音效文件，可以先注释掉音效相关代码：

在 `pages/index/index.vue` 中：
```javascript
// 播放音效
// audioManager?.play();  // ← 暂时注释掉
```

---

## 🐛 常见问题

### 1. HBuilderX 无法识别项目
**解决**：确保导入的是 `shouqibao` 文件夹，该文件夹下有 `pages.json` 和 `manifest.json`

### 2. 运行时提示"未配置 AppID"
**解决**：
- 在 `manifest.json` 中填写 AppID
- 或在微信开发者工具中点击 **测试号** 使用临时 AppID

### 3. 微信开发者工具无法启动
**解决**：
- 确保微信开发者工具已安装并登录
- 在 HBuilderX 中重新配置开发者工具路径：
  - 工具 → 设置 → 运行配置 → 小程序运行配置

### 4. 编译报错找不到 Pinia
**解决**：HBuilderX 会自动处理，如果还有问题：
1. 删除项目根目录下的 `node_modules` 文件夹（如果有）
2. 重新运行项目

---

## ✅ 验证项目是否正常

运行成功后，你应该看到：

### 微信开发者工具中
- ✅ 页面正常显示
- ✅ 顶部有得分显示
- ✅ 中间有一个黄色圆形受气包（表情 `>_<`）
- ✅ 底部有三个按钮（武器库、换脸、排行榜）

### 测试功能
1. **点击受气包**：
   - ✅ 受气包会抖动并缩小
   - ✅ 出现伤害飘字（如 `-10`）
   - ✅ 顶部分数增加
   - ⚠️ 音效和震动需要真机测试

2. **点击武器库**：
   - ✅ 弹出武器选择面板
   - ✅ 可以切换武器（拳头/拖鞋/平底锅）

3. **连击测试**：
   - ✅ 连续点击 20 次以上，受气包表情变成 `T_T`（受伤）
   - ✅ 连续点击 50 次以上，表情变成 `X_X`（眩晕）
   - ✅ 停止点击 2 秒，弹出气泡"就这点力气？"

---

## 📱 真机调试（测试音效和震动）

1. 在微信开发者工具中点击顶部 **预览**
2. 用微信扫描二维码
3. 在手机上打开小程序
4. 测试音效和震动效果

---

## 🎯 下一步

项目运行成功后，你可以：

1. **准备音频文件** - 放入 `static/audio/` 目录
2. **配置云开发** - 查看 `CLOUD_SETUP.md` 文档
3. **真机测试** - 扫码在手机上测试完整功能
4. **添加新功能** - 参考 `openspec/changes/2025-12-05-game-enhancement-features.md`

---

有任何问题随时告诉我！🚀
